@page "/listings/{id}"
@inject ApiClientService ApiClient
@using DriveShare.Frontend.Models

<h3>Listing Details</h3>

@if (carListing != null)
{
    <div>
        <h4>@carListing.Model</h4>
        <p>Year: @carListing.Year</p>
        <p>Mileage: @carListing.Mileage</p>
        <p>Location: @carListing.Location</p>
        <p>Price per day: $@carListing.PricePerDay</p>
        <p>Availability: @carListing.Availability</p>
        <p>Pick Up Location: @carListing.PickUpLocation</p>
    </div>
}
else
{
    <p>Loading...</p>
}

@code {
    [Parameter]
    public int id { get; set; }

    private CarListing carListing;

    protected override async Task OnInitializedAsync()
    {
        carListing = await ApiClient.GetAsync<CarListing>($"/listings/{id}");
    }
}